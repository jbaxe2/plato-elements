<dom-module id="section-view">
  <style>
    #removePreviousContentIcon, #removeFromCrossListingIcon {
      float: right;
    }

    :host {
      display: block;

      --paper-card: {
        margin-bottom: 8px;
        width: 100%;
      };

      --paper-card-header: {
        background-color: #718198;
        border: 1px solid #062c43;
        padding: 0;
        font-weight: bold;
      };

      --paper-card-actions: {
        background-color: #bbb;
        text-align: right;
      };

      --paper-icon-button: {
        transition: all 0.4s;
        -webkit-transition: all 0.4s;
      };

      --paper-icon-button-hover: {
        background-color: #ddd;
        color: #718198;
      };

      --paper-material: {
        margin: 8px 8px 8px 8px;
        padding: 8px;
      };
    }
  </style>

  <template>
    <iron-signals on-iron-signal-previous-content-specified="onPreviousContentSpecified"></iron-signals>
    <iron-signals on-iron-signal-cross-listing-specified="onCrossListingSpecified"></iron-signals>

    <paper-card heading$="{{section.sectionId}}">
      <div class="card-content">
        <p><strong>Title:</strong> <span>{{section.courseTitle}}</span></p>
        <p><strong>CRN:</strong> <span>{{section.crn}}</span></p>
        <p><strong>Faculty:</strong> <span>{{section.faculty}}</span></p>
        <p><strong>Place:</strong> <span>{{section.place}}</span></p>
        <p><strong>Time:</strong> <span>{{section.time}}</span></p>
        <p><strong>Term:</strong> <span>{{section.termId}}</span></p>

        <template is="dom-if" if="{{hasExtraInfo}}">
          <hr style="color: #062c43; width: 100%; text-align: center;">

          <paper-material id="{{section.sectionId}}-copied-content-info" hidden$="{{!hasPreviousContent}}">
            <paper-icon-button
              icon="icons:backspace"
              id="removePreviousContentIcon"
              title="remove previous content"
              on-tap="onRemovePreviousContent">
            </paper-icon-button>
            <p style="padding: 8px 0 8px 8px;">
              <strong>Previous Content:</strong><br><span>{{withPreviousContent.courseEnrollment.courseId}}</span>
            </p>
          </paper-material>

          <paper-material id="{{section.sectionId}}-cross-listed-info" hidden$="{{!hasCrossListing}}">
            <paper-icon-button
              icon="icons:eject"
              id="removeFromCrossListingIcon"
              title="remove from cross-listing"
              on-tap="onRemoveFromCrossListing">
            </paper-icon-button>
            <p style="padding: 8px 0 8px 8px;">
              This course is currently cross-listed with:<br>
              <template is="dom-repeat" items="{{withCrossListing.sections}}" as="crossListedSection">
                <strong>&nbsp; - &nbsp; {{crossListedSection.sectionId}}</strong><br>
              </template>
            </p>
          </paper-material>
        </template>
      </div>

      <div class="card-actions">
        <paper-icon-button icon="av:library-books" id="copyContentIcon" title="copy content from a previous course" on-tap="onCopyContent"></paper-icon-button>
        <paper-icon-button icon="hardware:device-hub" id="addToClSetIcon" title="add {{section.sectionId}} to a cross-listing set" on-tap="onAddToClSet"></paper-icon-button>
        <paper-icon-button icon="icons:cancel" id="removeSectionIcon" title="remove {{section.sectionId}} from the request" on-tap="onRemoveSection"></paper-icon-button>
      </div>
    </paper-card>
  </template>
</dom-module>

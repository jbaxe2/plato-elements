<dom-module id="sections-selector">
  <style>
    :host {
      display: block;

      --paper-card-header: {
        background-color: #718198;
        border: 1px dotted #062c43;
      };

      --paper-card-content: {
        padding: 8px;
        border-bottom: 1px dotted #718198;
      };

      --paper-checkbox-checked-color: #062c43;

      --paper-button: {
        background-color: #ddd;
        margin: 8px;
        border-color: #062c43;
      }
    }
  </style>

  <template>
    <iron-signals on-iron-signal-sections-retrieved-complete="onSectionsRetrievedComplete"></iron-signals>

    <sections-collection sections="{{sections}}" course-id="{{courseId}}" term-id="{{termId}}"></sections-collection>

    <template is="dom-if" if="{{haveSections}}">
      <paper-card heading="Select one or more sections...">
        <div class="card-content">
          <template is="dom-repeat" items="{{sections}}" as="section">
            <paper-checkbox name="{{section.sectionId}}-checkbox" id="{{section.sectionId}}-checkbox">
              [<span>{{section.sectionId}}</span>]
              <span>{{section.courseTitle}}</span>
              (<span>{{section.faculty}}</span>)
            </paper-checkbox><br>
          </template>
        </div>
        <div class="card-actions">
          <paper-button raised on-tap="onSectionsSelected">Add selected sections to the request</paper-button>
        </div>
      </paper-card>
    </template>
  </template>
</dom-module>
